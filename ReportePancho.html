<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte De Unidades
    </title>
</head>
<style>
    body{
        text-align: center;
        background: #206868;
        font-family: Arial, sans-serif;
    }

    body input{
        display: flex;
        text-align: center;
        margin: 10px;
        background: rgba(255, 255, 255, 0.582);
        line-height: 30px;
        border-radius: 10px;
        border: none;
    }
    body h1{
        color: #273b41;
    }
    .contenedor{
        display: inline-block;
        flex-direction: row;
        margin: 10px;
        text-align: center;
    }

    .botones button{
        display: inline-block;
        background: #425066;
        text-align: center;
        color: rgb(185, 180, 180);
        border: none;
        border-radius: 5px;
        padding: 10px 20px;
        margin: 10px;
        cursor: pointer;
    }

    .chec{
        color: #273b41;
        display: flex;
        align-items: center;
        gap: 14px;
        justify-content: center;
    }
    
    #resultado, #resul{
        color: #273b41;
    }



</style>
<body>
    <h1>Reporte De Unidades</h1>
    <div class="contenedor">
    <input type="tel" placeholder="HORMIGA" id="hormiga" required>
    <input type="tel" placeholder="RABÃ“N" id="rabon">
    <input type="tel" placeholder="TORTÃ“N" id="torton">
    <input type="tel" placeholder="PLANA" id="plana">
    </div>

    <div class="chec">
    <label for="checklimpia" id="limpia">Limpia</label>
    <input type="checkbox" id="checklimpia" onclick="procesar('*ÃREA LIMPIA*')">

    <label for="checkSucia" id="sucia">Sucia</label>
    <input type="checkbox" id="checkSucia" onclick="procesar('*ÃREA SUCIA*')">
    </div>
    
    <div class="botones">
    <button onclick="copiar()">Copiar</button>
    </div>

    <h2 id="resul">Resultado:</h2>
    <p id="resultado"></p>
</body>

<script>
    function formatear(unidades, prefijo, threshold = 100){
        const lista = unidades.split(',').filter(num => num.trim() !== '');
        const unidadesF = lista.map(num => {
            const numero = parseInt(num.trim(), 10);
            if (numero < threshold){
                return `${prefijo}0${numero}`;
            } else{
                return `${prefijo}${numero}`;
            }
        });
        return unidadesF;

    }


    function procesar(opcion){
        const hormigas = document.getElementById('hormiga').value;
        const rabones = document.getElementById('rabon').value;
        const tortons = document.getElementById('torton').value;
        const planas = document.getElementById('plana').value;
        const limpi = document.getElementById('limpia');
        const suci = document.getElementById('sucia');
        const texto = document.getElementById('resultado');

        if(opcion === "limpi"){
            suci.checked = false;
            texto.textContent = "Area Limpia"
        }
        else{
            limpi.checked = false;
            texto.textContent = "Area Sucia";
        }

        const hormigaF = formatear(hormigas, 'V-0', 10);
        const rabonF = formatear(rabones, 'V-0', 10);
        const tortonF = formatear(tortons, 'V-0', 10);
        const planaF = formatear(planas, 'VP-0', 10);
        

        let resultado = opcion + '<br><br>'; 
            resultado  += `*HORMIGA:*<br>`;
            resultado += hormigaF.join('<br>')+ `<br><br>*RABÃ“N:*<br>`;
            resultado += rabonF.join('<br>')+ `<br><br>*TORTÃ“N:*<br>`;
            resultado += tortonF.join('<br>')+ `<br><br>*PLANAS:*<br>`;
            resultado += planaF.join('<br>');

        document.getElementById('resultado').innerHTML = resultado;

    }


    function copiar(){
        const resultado = document.getElementById('resultado').innerText;
        const textarea = document.createElement('textarea');
        textarea.value =  resultado;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
        alert('Texto copiadoðŸ‘');
    }

    document.addEventListener('DOMContentLoaded', (event) =>{
        document.addEventListener('keydown', (event)=> {
            if (event.key === 'Enter') {
                event.preventDefault();
                procesar();
            }
        })
    })


</script>
</html>